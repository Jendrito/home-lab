1. Lo primero que haremos será descargar Windows 10 para poder usar la imagen ISO en nuestra máquina virtual. Para eso, vamos al siguiente link: https://www.microsoft.com/en-us/software-download/windows10. Luego, en la sección "Create Windows 10 installation media" damos click en "Download Now" y se comenzará a descargarse el creador de la imagen ISO.

2. Una vez descargado, tendremos un archivo .exe llamado "MediaCreationTool". Al ejecutarlo, primero nos pedirá aceptar legales; una vez aceptado, llegaremos a la instancia dónde nos pregunta si queremos actualizar nuestro equipo actual o crear un medio de instalación. Elegimos la segunda opción y nos preguntará qué idioma, arquitectura y edición queremos darle a la imagen ISO. Si estamos haciendo está creación desde nuestro Windows 10 nativo, tomará como parámetros éste Windows y tendrá marcada la opción "Usar el punto de restauración...". Pero si desmarcamos ésta opción, podemos modificar los parámetros como deseemos. En mí caso, lo dejo como está, avanzo y me pregunta qué medio elijo: como usaremos la imagen ISO para crear una máquina virtual en VirtualBox, elegimos la segunda opción, "Archivo ISO". Elegimos dónde guardar la imagen ISO y comenzará el proceso de descarga de Windows 10.

3. Una vez creada y descargada la imagen, crearemos la máquina virtual. Para eso, vamos a VirtualBox, creamos una nueva máquina, le damos el nombre que deseamos (en mí caso elegí "Windows10honeypot"), elegimos en qué carpeta guardarla, qué imagen ISO utilizar (la que descargamos), el tipo de sistema operativo (Microsoft Windows) y la versión (Windows 10 64-bit). En "Hardware", asignamos 2048 MB (mínimo, podemos asignar más dependiendo nuestros recursos), 1 CPU (ídem ítem anterior) y, en "Disco duro", asignaremos 20 GB. 

4. Una vez completados estos pasos y creada la máquina virtual, configuraremos la red: primero, con la máquina virtual de pfSense apagada, añadiremos Adaptador 3 en su configuración de red. La red será "Red interna", pero para no utilizar la misma red que usamos en nuestra máquina virtual Kali Linux, le daremos otro nombre (en mí caso elegí "honeypot"). Ahora, volvemos a la configuración de red de la máquina virtual Windows 10 y sólo utilizaremos Adaptador 1: le asignamos la nueva Red interna que creamos en pfSense. Es importante confirmar que la red asignada es, por ejemplo en mí caso, "honeypot", porque de lo contrario esta máquina, que será utilizada como máquina virtual vulnerable, compartirá la misma red que Kali Linux y podría infectarla. Aclaración: recordar poner "Permitir todo" en "Modo promiscuo", tanto en pfSense como Windows.

5. Ahora, iniciaremos nuestra máquina virtual Windows 10 para su configuración. Elegimos idioma, formato y teclado, damos click en "Instalar ahora" y cuando nos pregunte por la activación de Windows, elegimos "No tengo clave de producto". Ahora, nos solicitará que tipo de sistema operativo deseamos instalar: en mí caso elegí Windows 10 Home. Aceptamos los términos de licencia y nos preguntará qué tipo de instalación deseamos. Elegiremos "Personalizada", ya que nuestra máquina virtual no posee Windows instalado. Ahora nos preguntará dónde queremos instalar Windows: como ésta máquina virtual solo será para crear logs, no es necesario particionar el disco, por lo que elegimos la única opción de disco disponible y damos click en "Siguiente". De esta manera comenzará la instalación de Windows 10.

6. Una vez terminada la instalación, Windows nos pedirá configurar conceptos básicos, como región, teclado, red (en este paso elegimos "No tengo internet" y cuando nos vuelva a preguntar por Internet, elegimos "Continuar con la configuración limitada"). El equipo volverá a reiniciarse y nos preguntará quien usará este equipo: elegimos el nombre que deseamos, la contraseña y preguntas por si olvidamos contraseña. Luego, nos pedirá elegir la configuración de privacidad: aceptamos todo. Finalmente, Windows hará las últimas configuraciones y podremos acceder al escritorio.

7. Ahora, configuraremos la IP de la máquina virtual para que pueda comunicarse con pfSense. Para esto, hacemos click derecho en ícono que simboliza un mundo con un "prohibido" y elegimos "Abrir configuración de red". Una vez dentro de "Redes e Internet", vamos a "Ethernet" y allí seleccionamos "Cambiar opciones del adaptador". Ahora veremos nuestro adaptador Ethernet: hacemos click derecho sobre éste y seleccionamos "Propiedades". Allí seleccionaremos "Protocolo de Internet version 4 (TCP/IPv4)" y daremos click en "Propiedades". Ahora elegiremos la opción "Usar la siguiente dirección IP" y elegiremos los datos deseados (en mí caso: Dirección IP: 192.168.30.10, Máscara de subred: 255.255.255.0, Puerta de enlace predeterminada: 192.168.30.1 y Servidor DNS preferido: 8.8.8.8).

8. Seguiremos con una configuración de las reglas del firewall de Windows. En la barra de búsqueda escribimos "Firewall" y seleccionamos "Firewall de Windows Defender". Una vez allí, iremos a "Configuración avanzada" y configuraremos reglas de entrada y salida. En "Reglas de entrada" buscaremos la opción "Archivos e impresoras comaprtidas (petición de eco: ICMPv4 de entrada)" y, dando click derecho, veremos la opción para habilitarla. Solo lo haremos con la que tiene Perfil "Privado, Publico". Exactamente lo mismo haremos con en "Reglas de salida": "Archivos e impresoras compartidas (petición de eco: ICMPv4 de salida)" y habilitamos la regla. En la columna de "Acciones" daremos click en "Actualizar" para que y ahora el firewall de Windows permitirá pings desde y hacia nuestra IP.